/* ====== Base ====== */
html, body { height: 100%; }
:root{
  --r: 12px;
  --userBubble: rgba(255,255,255,.15);
  --botBubble : rgba(255,255,255,.07);
  --console-h: 220px;
  --console-h-min: 120px;
}

body{
  background: radial-gradient(circle at 20% 20%, #4e54c8 0%, #192f6a 100%);
  color:#fff;
  font-family: system-ui, Arial, sans-serif;
}
body.dark{
  background: radial-gradient(circle at 20% 20%, #0f0f26 0%, #000 100%);
  color:#fff;
}

/* ====== Glass ====== */
.glass{
  background: rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,.2);
  border-radius: var(--r);
}

.navbar{
  background: rgba(0,0,0,.35);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid rgba(255,255,255,.25);
}

/* menu btn */
.menu-btn{
  background:none;border:none;color:#fff;
  padding:4px 8px;border-radius:var(--r);
}
.menu-btn:hover{background:rgba(255,255,255,.1);}

/* ====== Chat ====== */
.chat{ display:flex; flex-direction:column; gap:10px; padding:4px 0; }
.msg{
  padding:6px 10px; border-radius:var(--r);
  white-space:pre-wrap; word-break:break-word; line-height:1.4; font-size:14px;
}
.msg.you{background:var(--userBubble);}
.msg.ai {background:var(--botBubble);}
.msg.sys{background:rgba(255,255,255,.05);font-style:italic;}
.msg.err{background:rgba(255,0,0,.2);}

/* scroll */
.chat::-webkit-scrollbar{width:6px;}
.chat::-webkit-scrollbar-thumb{background:rgba(255,255,255,.3);border-radius:3px}

/* textarea soft */
.soft{
  background:rgba(255,255,255,.08)!important;
  color:#fff!important;
  border:1px solid rgba(255,255,255,.2)!important;
}
.soft:focus{
  background:rgba(255,255,255,.12)!important;
  color:#fff!important;
}

/* ====== Bottom console ====== */
.console-panel{
  position:fixed; left:0; right:0; bottom:0;
  height:var(--console-h); max-height:100vh;
  display:flex; flex-direction:column;
  z-index:1030; overflow:hidden;
}
.console-handle{
  height:12px; cursor:ns-resize; touch-action:none;
  display:flex; align-items:center; justify-content:center;
}
.console-handle::before{
  content:""; width:48px; height:4px; border-radius:2px;
  background:rgba(255,255,255,.35);
}
.console-panel .chat{
  flex:1 1 auto; overflow-y:auto; padding:8px 12px;
}

/* mobile: стартовая высота больше */
@media (max-width:480px){
  :root{ --console-h: 50vh; }
}
