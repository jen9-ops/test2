<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
  <title>Hyper-Bot</title>

  <link rel="stylesheet" href="styles.css" />

  <!-- 1. Локальная библиотека Transformers -->
  <script src="transformers.min.js"></script>
  <!-- 2. Основной код -->
  <script src="app.js" defer></script>
</head>
<body>
  <!-- ░ NAVBAR ░ -->
  <nav class="navbar">
    <span class="brand">🤖 Hyper-Bot</span>
    <span id="progress" class="badge">0 %</span>

    <button id="menuBtn" class="menu-btn" aria-label="Меню">≡</button>

    <div id="menu" class="dropdown hidden" role="menu">
      <button data-act="trainText">📝 Обучить текстом</button>
      <button data-act="trainURL">🔗 Обучить URL</button>
      <button data-act="analysis">📊 Анализ</button>
      <hr>
      <button data-act="export">⬇ Скачать память</button>
      <button data-act="import">⬆ Загрузить память</button>
      <button data-act="clearChat">✖ Очистить чат</button>
      <button data-act="clearMemory" class="danger">🗑 Очистить память</button>
      <hr>
      <button data-act="theme">🌙 Тёмная тема</button>
    </div>
  </nav>

  <input id="fileInp" type="file" accept="application/json" class="hidden" />

  <!-- ░ TRAIN PANELS ░ -->
  <section id="trainText" class="panel hidden">
    <textarea id="textInput" class="soft" placeholder="каждая строка: вопрос - ответ"></textarea>
    <div class="actions">
      <button data-act="doTrainText">Обучить</button>
      <button data-act="closePanels" class="ghost">Отмена</button>
    </div>
  </section>

  <section id="trainURL" class="panel hidden">
    <input id="urlInput" class="soft" placeholder="https://example.com/статья" />
    <div class="actions">
      <button data-act="doTrainURL">Загрузить</button>
      <button data-act="closePanels" class="ghost">Отмена</button>
    </div>
  </section>

  <!-- ░ CHAT ░ -->
  <main id="chat" class="chat"></main>

  <!-- ░ INPUT BAR ░ -->
  <footer class="inputbar">
    <textarea id="userInput" class="soft" placeholder="Shift+Enter — новая строка, Ctrl+Enter — отправить"></textarea>
    <button id="sendBtn" aria-label="Отправить">➤</button>
  </footer>

  <!-- GPT badge -->
  <span id="aiIndicator" class="badge d-none">GPT-2</span>

  <!-- ░ Interactive Console ░ -->
  <div id="dbgToggle">⇧ Console ⇧</div>

  <div id="dbgPanel" class="collapsed">
    <div class="dbg-head">
      <span>Console</span>
      <button id="dbgFull">⛶</button>
      <button id="dbgClose">✕</button>
    </div>

    <pre id="dbgLog"></pre>

    <ul id="dbgHints" class="hidden"></ul>

    <div id="dbgInputRow">
      <button id="dbgHistUp">↑</button>
      <button id="dbgHistDown">↓</button>
      <button id="dbgHintBtn">⚡</button>
      <input id="dbgCmd" placeholder="введи JS…" />
      <button id="dbgRun">▶</button>
      <button id="dbgClear">🗑</button>
    </div>
  </div>
</body>
</html>
